{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import*as ROUTES from'../../constants/routes';var Navbar=/*#__PURE__*/function(_React$Component){_inherits(Navbar,_React$Component);var _super=_createSuper(Navbar);function Navbar(props){var _this;_classCallCheck(this,Navbar);_this=_super.call(this,props);_this.isLoggedIn=function(){fetch('/login-status/').then(function(response){return response.json();}).then(function(data){return _this.setState({loggedinstate:data});});};_this.state={loggedinstate:'',logoutbutton:null,loginbutton:null,signupbutton:null};_this.isLoggedIn=_this.isLoggedIn.bind(_assertThisInitialized(_this));return _this;}/*\n\tisLoggedIn() {\n\t\tfetch('/user-status').then(res => res.json()).then(data => {\n\t\t\tthis.setState({ users: data });\n\t\t});\n\t}*/_createClass(Navbar,[{key:\"componentDidMount\",value:function componentDidMount(){console.log(\"nav bar loading\");this.isLoggedIn();}},{key:\"saveLogout\",value:function(){var _saveLogout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:fetch('/logout/',{method:'POST',headers:{'Content-Type':'application/json'}});case 1:case\"end\":return _context.stop();}}},_callee);}));function saveLogout(){return _saveLogout.apply(this,arguments);}return saveLogout;}()},{key:\"renderDropdown\",value:function renderDropdown(){var _this2=this;if(this.state.loggedinstate['logged in']){return/*#__PURE__*/React.createElement(\"div\",{className:\"navbar-nav ml-auto\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav ml-auto\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item dropdown ml-auto\"},/*#__PURE__*/React.createElement(\"a\",{className:\"nav-link dropdown-toggle\",href:\"#\",id:\"navbardrop\",\"data-toggle\":\"dropdown\"},\"Hello \",this.state.loggedinstate['name'],\"!\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-menu\"},/*#__PURE__*/React.createElement(\"a\",{className:\"dropdown-item\",href:ROUTES.PROFILE},\"Profile\"),/*#__PURE__*/React.createElement(\"a\",{className:\"dropdown-item\",onClick:function onClick(){return _this2.saveLogout();},href:ROUTES.LANDING},\"Sign Out\")))));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"navbar-nav ml-auto\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav ml-auto\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item dropdown\"},/*#__PURE__*/React.createElement(\"a\",{className:\"nav-link dropdown-toggle\",href:\"#\",id:\"navbardrop\",\"data-toggle\":\"dropdown\"},\"Welcome\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-menu\"},/*#__PURE__*/React.createElement(\"a\",{className:\"dropdown-item\",href:ROUTES.SIGN_UP},\"Sign Up\"),/*#__PURE__*/React.createElement(\"a\",{className:\"dropdown-item\",href:ROUTES.SIGN_IN},\"Sign In\")))));}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-dark\"},/*#__PURE__*/React.createElement(\"a\",{className:\"navbar-brand\",href:\"#\"},\"Aggregate COVID-19 Forecasting\"),/*#__PURE__*/React.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNavAltMarkup\",\"aria-controls\":\"navbarNavAltMarkup\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"},/*#__PURE__*/React.createElement(\"span\",{className:\"navbar-toggler-icon\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNavAltMarkup\"},/*#__PURE__*/React.createElement(\"div\",{className:\"navbar-nav\"},/*#__PURE__*/React.createElement(\"a\",{className:\"nav-item nav-link active\",href:ROUTES.LANDING},\"Home \",/*#__PURE__*/React.createElement(\"span\",{className:\"sr-only\"},\"(current)\")),/*#__PURE__*/React.createElement(\"a\",{className:\"nav-item nav-link\",href:ROUTES.ABOUT},\"About\"),/*#__PURE__*/React.createElement(\"a\",{className:\"nav-item nav-link\",href:ROUTES.LEADERBOARD},\"Top Forecasts\")),this.renderDropdown()));}}]);return Navbar;}(React.Component);export default Navbar;","map":{"version":3,"sources":["/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/src/components/Navbar/index.js"],"names":["React","ROUTES","Navbar","props","isLoggedIn","fetch","then","response","json","data","setState","loggedinstate","state","logoutbutton","loginbutton","signupbutton","bind","console","log","method","headers","PROFILE","saveLogout","LANDING","SIGN_UP","SIGN_IN","ABOUT","LEADERBOARD","renderDropdown","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as ROUTES from '../../constants/routes';\n\nclass Navbar extends React.Component {\n  constructor(props){\n\t\tsuper(props)\n\t\tthis.state = { loggedinstate: '', logoutbutton: null, loginbutton: null, signupbutton: null}\n\t\tthis.isLoggedIn = this.isLoggedIn.bind(this)\n\t}\n\t/*\n\tisLoggedIn() {\n\t\tfetch('/user-status').then(res => res.json()).then(data => {\n\t\t\tthis.setState({ users: data });\n\t\t});\n\t}*/\n\n\tcomponentDidMount(){\n\t\tconsole.log(\"nav bar loading\");\n\t\tthis.isLoggedIn();\n\t\t\n\t}\n\n\tasync saveLogout() {\n\t\tfetch('/logout/',{\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t});\n}\n\n\tisLoggedIn = () => {\n\t\tfetch('/login-status/')\n\t\t.then((response) => response.json())\n\t\t.then((data) => this.setState({loggedinstate: data}));\n\t\t\n}\n\nrenderDropdown(){\n\tif(this.state.loggedinstate['logged in']){\n\t\t\n\t\treturn(\n\t\t\t<div className='navbar-nav ml-auto'>\n\n<ul className=\"navbar-nav ml-auto\">\n\t\t\t\t <li className=\"nav-item dropdown ml-auto\">\n\t\t\t\t<a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbardrop\" data-toggle=\"dropdown\">\n\t\t\t\t\tHello {this.state.loggedinstate['name']}!</a>\n\t\t\t<div className=\"dropdown-menu\">\n\t\t\t\t<a className=\"dropdown-item\" href={ROUTES.PROFILE}>Profile</a>\n\t\t\t\t<a className=\"dropdown-item\" onClick={() => this.saveLogout()} href={ROUTES.LANDING}>Sign Out</a>\n\t\t\t</div>\n\t\t</li>\n\t\t\t\t </ul>\n\t\t\t</div>\n\t\t);\n\n\t}\n\telse{\n\t\treturn(\n\t\t\t<div className='navbar-nav ml-auto'>\n\t\t\t\t<ul className=\"navbar-nav ml-auto\">\n\t\t\t\t <li className=\"nav-item dropdown\">\n\t\t\t\t<a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbardrop\" data-toggle=\"dropdown\">\n\t\t\t\t\tWelcome</a>\n\t\t\t<div className=\"dropdown-menu\">\n\t\t\t\t<a className=\"dropdown-item\" href={ROUTES.SIGN_UP}>Sign Up</a>\n\t\t\t\t<a className=\"dropdown-item\" href={ROUTES.SIGN_IN}>Sign In</a>\n\t\t\t</div>\n\t\t</li>\n\t\t\t\t </ul>\n\t\t\t</div>\n\t\t);\n\n\t}\n}\n\n\n  render() {\n    return (\n     <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n       <a className=\"navbar-brand\" href=\"#\">Aggregate COVID-19 Forecasting</a>\n       <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n         <span className=\"navbar-toggler-icon\"></span>\n       </button>\n       <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\n       <div className=\"navbar-nav\">\n         <a className=\"nav-item nav-link active\" href={ROUTES.LANDING}>Home <span className=\"sr-only\">(current)</span></a>\n         <a className=\"nav-item nav-link\" href={ROUTES.ABOUT}>About</a>\n         <a className=\"nav-item nav-link\" href={ROUTES.LEADERBOARD}>Top Forecasts</a>\n        \n       </div>\n       {this.renderDropdown()}\n       </div>\n     </nav>\n    );\n  }\n}\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}