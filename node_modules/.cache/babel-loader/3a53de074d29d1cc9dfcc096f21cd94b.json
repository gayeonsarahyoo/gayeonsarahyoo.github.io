{"ast":null,"code":"var _jsxFileName = \"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/src/components/SignUp/index.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Redirect } from \"react-router\";\n\nclass SignUp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateLoginState = () => {\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          fetch('/login-status/').then(response => response.json()).then(data => {\n            this.setState({\n              loginStatus: data['logged in']\n            });\n            console.log(data['logged in']);\n            resolve(data['logged in']);\n          });\n        }, 300);\n      });\n    };\n\n    this.state = {\n      nam: '',\n      email: '',\n      username: '',\n      password: '',\n      loginStatus: false\n    };\n  }\n\n  saveLogin(nam, email, username, password) {\n    return new Promise((resolve, reject) => {\n      fetch('/signup/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"name\": nam,\n          \"email\": email,\n          \"username\": username,\n          \"password\": password\n        })\n      });\n      resolve();\n    });\n  }\n\n  handleChange(event) {\n    let name = event.target.name;\n\n    if (name == 'nam') {\n      this.setState({\n        nam: event.target.value\n      });\n    }\n\n    if (name == 'email') {\n      this.setState({\n        email: event.target.value\n      });\n    }\n\n    if (name == 'username') {\n      this.setState({\n        username: event.target.value\n      });\n    }\n\n    if (name == 'password') {\n      this.setState({\n        password: event.target.value\n      });\n    }\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    await this.saveLogin(this.state.nam, this.state.email, this.state.username, this.state.password);\n    this.updateLoginState();\n  }\n\n  render() {\n    if (this.state.loginStatus) {\n      //return <Redirect to=\"/\" />\n      window.location.href = '/';\n    }\n\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.nam,\n      onChange: this.handleChange.bind(this),\n      name: \"nam\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.email,\n      onChange: this.handleChange.bind(this),\n      name: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.username,\n      onChange: this.handleChange.bind(this),\n      name: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.password,\n      onChange: this.handleChange.bind(this),\n      name: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/src/components/SignUp/index.js"],"names":["React","Component","ReactDOM","Redirect","SignUp","constructor","props","updateLoginState","Promise","resolve","reject","setTimeout","fetch","then","response","json","data","setState","loginStatus","console","log","state","nam","email","username","password","saveLogin","method","headers","body","JSON","stringify","handleChange","event","name","target","value","handleSubmit","preventDefault","render","window","location","href","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Redirect } from \"react-router\";\n\n\nclass SignUp extends React.Component{\n    constructor(props) {\n        super(props)\n        this.state = { nam:'', email: '', username: '', password: '', loginStatus: false }\n      }\n\n    saveLogin(nam, email, username, password) {\n      return new Promise((resolve, reject) => {\n        fetch('/signup/',{\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\"name\": nam, \"email\": email, \"username\": username, \"password\": password}),\n        });\n        resolve();\n      })\n    }\n\n    handleChange(event) {\n      let name = event.target.name;\n      if (name == 'nam'){\n        this.setState({ nam: event.target.value})\n      }\n      if (name == 'email'){\n        this.setState({ email: event.target.value})\n      }\n      if (name == 'username'){\n        this.setState({ username: event.target.value})\n      }\n      if (name == 'password'){\n        this.setState({ password: event.target.value})\n      }\n\n    }\n\n    updateLoginState = () => {\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          fetch('/login-status/')\n          .then((response) => response.json())\n          .then((data) => {\n            this.setState({loginStatus: data['logged in']});\n            console.log(data['logged in']);\n            resolve(data['logged in']);\n          });\n        }, 300)\n      })\n    }\n    \n    async handleSubmit(event) {\n      event.preventDefault()\n      await this.saveLogin(this.state.nam, this.state.email, this.state.username, this.state.password)\n      this.updateLoginState();\n      }\n    \n      render() {\n        if (this.state.loginStatus) {\n          //return <Redirect to=\"/\" />\n          window.location.href ='/'\n        }\n        return (\n          <form onSubmit={this.handleSubmit.bind(this)}>\n            <h1>Sign Up</h1>\n            <span>Name</span>\n            <input\n              type=\"text\"\n              value={this.state.nam}\n              onChange={this.handleChange.bind(this)}\n              name='nam'\n            />\n            <span>Email</span>\n            <input\n              type=\"text\"\n              value={this.state.email}\n              onChange={this.handleChange.bind(this)}\n              name='email'\n            />\n            <span>Username</span>\n            <input\n              type=\"text\"\n              value={this.state.username}\n              onChange={this.handleChange.bind(this)}\n              name='username'\n            />\n            <span>Password</span>\n            <input\n              type=\"text\"\n              value={this.state.password}\n              onChange={this.handleChange.bind(this)}\n              name='password'\n            />\n            <input type=\"submit\" value=\"Submit\" />\n          </form>\n        )\n      }\n}\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}