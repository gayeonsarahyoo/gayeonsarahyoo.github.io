{"ast":null,"code":"import _slicedToArray from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import UserPredictionChart from'../../components/UserPredictionChart';import{cleanConfirmedData,organizeData}from'../../utils/data';var UserPredictionChartContainer=/*#__PURE__*/function(_Component){_inherits(UserPredictionChartContainer,_Component);var _super=_createSuper(UserPredictionChartContainer);function UserPredictionChartContainer(props){var _this;_classCallCheck(this,UserPredictionChartContainer);_this=_super.call(this,props);_this.state={forecast:null,orgs:null,confirmed:null,userPrediction:null,aggregate:null,userStatus:null};return _this;}_createClass(UserPredictionChartContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/us-inc-deaths-forecasts').then(function(res){return res.json();}).then(function(data){var _organizeData=organizeData(data),_organizeData2=_slicedToArray(_organizeData,2),results=_organizeData2[0],orgs=_organizeData2[1];_this2.setState({forecast:results,orgs:orgs});});fetch('/user-prediction?category=us_daily_deaths').then(function(res){return res.json();}).then(function(data){_this2.setState({userPrediction:data});});fetch('/us-inc-deaths-confirmed-wk-avg').then(function(res){return res.json();}).then(function(data){//const result = JSON.parse(data);\n_this2.setState({confirmed:data});});fetch('/us-agg-inc-deaths').then(function(res){return res.json();}).then(function(data){_this2.setState({aggregate:data});});fetch('/login-status/').then(function(res){return res.json();}).then(function(data){_this2.setState({userStatus:data});console.log(data);});}},{key:\"render\",value:function render(){var _this$state=this.state,forecast=_this$state.forecast,orgs=_this$state.orgs,userPrediction=_this$state.userPrediction,confirmed=_this$state.confirmed,aggregate=_this$state.aggregate,userStatus=_this$state.userStatus;if(!forecast||!orgs||!userPrediction||!confirmed||!aggregate||!userStatus)return'Loading...';return/*#__PURE__*/React.createElement(\"div\",{className:\"chartContainer\"},/*#__PURE__*/React.createElement(UserPredictionChart,{forecast:forecast,orgs:orgs,userPrediction:userPrediction,confirmed:confirmed,aggregate:aggregate,userStatus:userStatus}));}}]);return UserPredictionChartContainer;}(Component);export default UserPredictionChartContainer;","map":{"version":3,"sources":["/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/src/containers/UserPredictionChartContainer/index.js"],"names":["React","Component","UserPredictionChart","cleanConfirmedData","organizeData","UserPredictionChartContainer","props","state","forecast","orgs","confirmed","userPrediction","aggregate","userStatus","fetch","then","res","json","data","results","setState","console","log"],"mappings":"gxBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,sCAAhC,CACA,OAASC,kBAAT,CAA6BC,YAA7B,KAAiD,kBAAjD,C,GAEMC,CAAAA,4B,4IACF,sCAAYC,KAAZ,CAAmB,8DACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,IADD,CAETC,IAAI,CAAE,IAFG,CAGTC,SAAS,CAAE,IAHF,CAITC,cAAc,CAAE,IAJP,CAKTC,SAAS,CAAE,IALF,CAMTC,UAAU,CAAE,IANH,CAAb,CAFe,aAUlB,C,sGAEmB,iBAChBC,KAAK,CAAC,0BAAD,CAAL,CAAkCC,IAAlC,CAAuC,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAA1C,EAA0DF,IAA1D,CAA+D,SAAAG,IAAI,CAAI,mBAC3Cd,YAAY,CAACc,IAAD,CAD+B,gDAC5DC,OAD4D,mBACnDV,IADmD,mBAEnE,MAAI,CAACW,QAAL,CAAc,CAAEZ,QAAQ,CAAEW,OAAZ,CAAqBV,IAAI,CAAJA,IAArB,CAAd,EACH,CAHD,EAIIK,KAAK,CAAC,2CAAD,CAAL,CAAmDC,IAAnD,CAAwD,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAA3D,EAA2EF,IAA3E,CAAgF,SAAAG,IAAI,CAAI,CACxF,MAAI,CAACE,QAAL,CAAc,CAAET,cAAc,CAAEO,IAAlB,CAAd,EACH,CAFG,EAGJJ,KAAK,CAAC,iCAAD,CAAL,CAAyCC,IAAzC,CAA8C,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAAjD,EAAiEF,IAAjE,CAAsE,SAAAG,IAAI,CAAI,CAC1E;AACA,MAAI,CAACE,QAAL,CAAc,CAAEV,SAAS,CAAEQ,IAAb,CAAd,EACH,CAHD,EAIAJ,KAAK,CAAC,oBAAD,CAAL,CAA4BC,IAA5B,CAAiC,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAApC,EAAoDF,IAApD,CAAyD,SAAAG,IAAI,CAAI,CAC7D,MAAI,CAACE,QAAL,CAAc,CAAER,SAAS,CAAEM,IAAb,CAAd,EACH,CAFD,EAGAJ,KAAK,CAAC,gBAAD,CAAL,CAAwBC,IAAxB,CAA6B,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAAhC,EAAgDF,IAAhD,CAAqD,SAAAG,IAAI,CAAI,CACzD,MAAI,CAACE,QAAL,CAAc,CAAEP,UAAU,CAAEK,IAAd,CAAd,EACAG,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EACH,CAHD,EAIH,C,uCACQ,iBACwE,KAAKX,KAD7E,CACGC,QADH,aACGA,QADH,CACaC,IADb,aACaA,IADb,CACmBE,cADnB,aACmBA,cADnB,CACmCD,SADnC,aACmCA,SADnC,CAC8CE,SAD9C,aAC8CA,SAD9C,CACyDC,UADzD,aACyDA,UADzD,CAEL,GAAI,CAACL,QAAD,EAAa,CAACC,IAAd,EAAsB,CAACE,cAAvB,EAAyC,CAACD,SAA1C,EAAuD,CAACE,SAAxD,EAAqE,CAACC,UAA1E,CAAsF,MAAO,YAAP,CAEtF,mBACI,2BAAK,SAAS,CAAC,gBAAf,eACI,oBAAC,mBAAD,EACI,QAAQ,CAAEL,QADd,CAEI,IAAI,CAAEC,IAFV,CAGI,cAAc,CAAEE,cAHpB,CAII,SAAS,CAAED,SAJf,CAKI,SAAS,CAAEE,SALf,CAMI,UAAU,CAAEC,UANhB,EADJ,CADJ,CAYH,C,0CAjDsCZ,S,EAoD3C,cAAeI,CAAAA,4BAAf","sourcesContent":["import React, { Component } from 'react';\nimport UserPredictionChart from '../../components/UserPredictionChart';\nimport { cleanConfirmedData, organizeData } from '../../utils/data';\n\nclass UserPredictionChartContainer extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            forecast: null,\n            orgs: null,\n            confirmed: null,\n            userPrediction: null,\n            aggregate: null,\n            userStatus: null\n        };\n    }\n\n    componentDidMount() {\n        fetch('/us-inc-deaths-forecasts').then(res => res.json()).then(data => {\n            const [results, orgs] = organizeData(data);\n            this.setState({ forecast: results, orgs });\n        });\n            fetch('/user-prediction?category=us_daily_deaths').then(res => res.json()).then(data => {\n            this.setState({ userPrediction: data });\n        });\n        fetch('/us-inc-deaths-confirmed-wk-avg').then(res => res.json()).then(data => {\n            //const result = JSON.parse(data);\n            this.setState({ confirmed: data });\n        });\n        fetch('/us-agg-inc-deaths').then(res => res.json()).then(data => {\n            this.setState({ aggregate: data });\n        });\n        fetch('/login-status/').then(res => res.json()).then(data => {\n            this.setState({ userStatus: data });\n            console.log(data);\n        });\n    }\n    render() {\n        const { forecast, orgs, userPrediction, confirmed, aggregate, userStatus } = this.state;\n        if (!forecast || !orgs || !userPrediction || !confirmed || !aggregate || !userStatus) return 'Loading...';\n\n        return (\n            <div className=\"chartContainer\">\n                <UserPredictionChart\n                    forecast={forecast}\n                    orgs={orgs}\n                    userPrediction={userPrediction}\n                    confirmed={confirmed}\n                    aggregate={aggregate}\n                    userStatus={userStatus}\n                />\n            </div>\n        );\n    }\n}\n\nexport default UserPredictionChartContainer;"]},"metadata":{},"sourceType":"module"}