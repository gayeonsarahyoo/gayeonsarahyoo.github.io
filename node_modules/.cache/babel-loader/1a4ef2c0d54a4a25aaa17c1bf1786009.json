{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import ReactDOM from'react-dom';import{Redirect}from\"react-router\";var SignUp=/*#__PURE__*/function(_React$Component){_inherits(SignUp,_React$Component);var _super=_createSuper(SignUp);function SignUp(props){var _this;_classCallCheck(this,SignUp);_this=_super.call(this,props);_this.updateLoginState=function(){return new Promise(function(resolve,reject){setTimeout(function(){fetch('/login-status/').then(function(response){return response.json();}).then(function(data){_this.setState({loginStatus:data['logged in']});console.log(data['logged in']);resolve(data['logged in']);});},300);});};_this.state={nam:'',email:'',username:'',password:'',loginStatus:false};return _this;}_createClass(SignUp,[{key:\"saveLogin\",value:function saveLogin(nam,email,username,password){return new Promise(function(resolve,reject){fetch('/signup/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"name\":nam,\"email\":email,\"username\":username,\"password\":password})});resolve();});}},{key:\"handleChange\",value:function handleChange(event){var name=event.target.name;if(name=='nam'){this.setState({nam:event.target.value});}if(name=='email'){this.setState({email:event.target.value});}if(name=='username'){this.setState({username:event.target.value});}if(name=='password'){this.setState({password:event.target.value});}}},{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return this.saveLogin(this.state.nam,this.state.email,this.state.username,this.state.password);case 3:this.updateLoginState();case 4:case\"end\":return _context.stop();}}},_callee,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"render\",value:function render(){if(this.state.loginStatus){//return <Redirect to=\"/\" />\nwindow.location.href='/';}return/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit.bind(this)},/*#__PURE__*/React.createElement(\"h1\",null,\"Sign Up\"),/*#__PURE__*/React.createElement(\"span\",null,\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.nam,onChange:this.handleChange.bind(this),name:\"nam\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.email,onChange:this.handleChange.bind(this),name:\"email\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Username\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.username,onChange:this.handleChange.bind(this),name:\"username\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.password,onChange:this.handleChange.bind(this),name:\"password\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Submit\"}));}}]);return SignUp;}(React.Component);export default SignUp;","map":{"version":3,"sources":["/Users/sarah/Documents/Sarah/Projects/reu/covid19-forecasting-market/frontend/src/components/SignUp/index.js"],"names":["React","Component","ReactDOM","Redirect","SignUp","props","updateLoginState","Promise","resolve","reject","setTimeout","fetch","then","response","json","data","setState","loginStatus","console","log","state","nam","email","username","password","method","headers","body","JSON","stringify","event","name","target","value","preventDefault","saveLogin","window","location","href","handleSubmit","bind","handleChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Redirect } from \"react-router\";\n\n\nclass SignUp extends React.Component{\n    constructor(props) {\n        super(props)\n        this.state = { nam:'', email: '', username: '', password: '', loginStatus: false }\n      }\n\n    saveLogin(nam, email, username, password) {\n      return new Promise((resolve, reject) => {\n        fetch('/signup/',{\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\"name\": nam, \"email\": email, \"username\": username, \"password\": password}),\n        });\n        resolve();\n      })\n    }\n\n    handleChange(event) {\n      let name = event.target.name;\n      if (name == 'nam'){\n        this.setState({ nam: event.target.value})\n      }\n      if (name == 'email'){\n        this.setState({ email: event.target.value})\n      }\n      if (name == 'username'){\n        this.setState({ username: event.target.value})\n      }\n      if (name == 'password'){\n        this.setState({ password: event.target.value})\n      }\n\n    }\n\n    updateLoginState = () => {\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          fetch('/login-status/')\n          .then((response) => response.json())\n          .then((data) => {\n            this.setState({loginStatus: data['logged in']});\n            console.log(data['logged in']);\n            resolve(data['logged in']);\n          });\n        }, 300)\n      })\n    }\n    \n    async handleSubmit(event) {\n      event.preventDefault()\n      await this.saveLogin(this.state.nam, this.state.email, this.state.username, this.state.password)\n      this.updateLoginState();\n      }\n    \n      render() {\n        if (this.state.loginStatus) {\n          //return <Redirect to=\"/\" />\n          window.location.href ='/'\n        }\n        return (\n          <form onSubmit={this.handleSubmit.bind(this)}>\n            <h1>Sign Up</h1>\n            <span>Name</span>\n            <input\n              type=\"text\"\n              value={this.state.nam}\n              onChange={this.handleChange.bind(this)}\n              name='nam'\n            />\n            <span>Email</span>\n            <input\n              type=\"text\"\n              value={this.state.email}\n              onChange={this.handleChange.bind(this)}\n              name='email'\n            />\n            <span>Username</span>\n            <input\n              type=\"text\"\n              value={this.state.username}\n              onChange={this.handleChange.bind(this)}\n              name='username'\n            />\n            <span>Password</span>\n            <input\n              type=\"text\"\n              value={this.state.password}\n              onChange={this.handleChange.bind(this)}\n              name='password'\n            />\n            <input type=\"submit\" value=\"Submit\" />\n          </form>\n        )\n      }\n}\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}